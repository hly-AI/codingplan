---
name: codingplan-test-design
description: 为 CodingPlan 测试设计步骤生成结构化测试设计文档。当执行测试设计、编写 test-design、定义测试场景、测试用例、边界条件时使用。
---

# CodingPlan 测试设计

为 CodingPlan 工作流 Step 6 提供测试设计文档结构与模板。

## 文档结构

```markdown
# 测试设计：{需求名}

## 1. 测试目标
- 验证范围
- 质量目标

## 2. 测试范围
- 功能模块
- 排除项

## 3. 测试类型
| 类型 | 适用场景 | 示例 |
|------|----------|------|
| 单元测试 | 纯逻辑、工具函数 | 计算、校验、转换 |
| 集成测试 | 模块协作、外部依赖 | API、DB、消息队列 |
| E2E | 关键用户流程 | 登录、核心业务流程 |

## 4. 核心测试场景
- 场景描述
- 前置条件
- 步骤
- 预期结果

## 5. 边界条件
- 空值、null、空集合
- 极值、超长、特殊字符
- 并发、超时

## 6. 异常与失败路径
- 网络失败
- 权限不足
- 数据不一致

## 7. 无法覆盖项
写入 uncertain/ 的说明
```

## 测试用例格式

```
ID | 场景 | 类型 | 步骤 | 预期
TC-001 | 正常登录 | 集成 | 1.输入有效账号 2.点击登录 | 跳转首页
TC-002 | 空密码 | 单元 | 调用校验(password="") | 返回错误
```

## 选择原则

- 核心逻辑 → 单元测试
- 跨模块/外部依赖 → 集成测试
- 关键用户路径 → E2E
- 无法自动化 → 记录到 uncertain/
