# CodingPlan 工作流规则

当执行 CodingPlan 自动化需求处理时，Agent 必须遵守以下规则：

## 强制规则

- ✅ 任意阶段出现不确定内容，必须写入 `uncertain/` 目录
- ✅ 测试是强制阶段，不得跳过
- ✅ 功能未测试不视为完成
- ✅ 测试失败必须进入 Ask → 修复 → 重试
- ✅ 每个需求文件必须形成完整闭环
- ✅ 所有需求完成后必须进行项目级整体与测试检查

## 输出目录

- `uncertain/` - 所有不确定、待确认、无法判断的问题
- `outputs/` - 各阶段正式产出文档（需求、设计、说明等）
- `tests/` - 自动生成的测试相关内容

## 文档命名约定

- `{需求名}-normalized.md` - 规范化后的需求
- `{需求名}-requirements.md` - 完善后的需求
- `{需求名}-outline-design.md` - 概要设计
- `{需求名}-detail-design.md` - 详细设计
- `{需求名}-test-design.md` - 测试设计
